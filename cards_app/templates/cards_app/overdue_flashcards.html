<!-- overdue_flashcards.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overdue Flashcards</title>
    <script>
        let currentCardIndex = 0;
        let flashcards = {{ flashcard_data|safe }};  // Pass the list of flashcards from Django to JS
        console.log(`flashcards ${flashcards}`);

        function showBack() {
            const backElement = document.getElementById("flashcard-back");
            backElement.style.display = "block";
        }

        function hideBack() {
            const backElement = document.getElementById("flashcard-back");
            backElement.style.display = "none";
        }

        function nextCard() {
            if (currentCardIndex < flashcards.length - 1) {
                currentCardIndex++;
                displayCard(currentCardIndex);
            }
        }

        function displayCard(index) {
            const frontElement = document.getElementById("flashcard-front");
            const backElement = document.getElementById("flashcard-back");
            
            frontElement.innerHTML = flashcards[index].front;
            backElement.innerHTML = flashcards[index].back;
            backElement.style.display = "none";
        }

        function reviewCard(remembered) {
            const cardId = flashcards[currentCardIndex].id;
            console.log(`Review for Card ${cardId}: ${remembered ? 'Remembered' : 'Not Remembered'}`);
            nextCard();
        }

        window.onload = function() {
            displayCard(currentCardIndex);
        }
    </script>
</head>
<body>
    <h1>Overdue Flashcards</h1>
    
    {% if flashcard_data %}
        <div id="flashcard">
            <div id="flashcard-front"></div>  <!-- Front of the flashcard -->
            <div id="flashcard-back" style="display:none;"></div>  <!-- Back of the flashcard (hidden initially) -->
            
            <button onclick="showBack()">Show Back</button>
            <button onclick="hideBack()">Hide Back</button>
            <button onclick="reviewCard(true)">Yes, I Remembered</button>
            <button onclick="reviewCard(false)">No, I Didn't Remember</button>
            <button onclick="nextCard()">Next Card</button>
        </div>
    {% else %}
        <p>No overdue flashcards at the moment.</p>
    {% endif %}
</body>
</html>
